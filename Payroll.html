<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <title>Payroll</title>
    <style>
        /* make sizing predictable */
        *, *::before, *::after { box-sizing: border-box; }

        body {
            font-family: "Lato", sans-serif;
            margin: 0;
            min-height: 100vh;
            background-color: #fff8f3; /* same palette as conversion.html */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* keep top spacing */
            padding: 30px 20px;
        }

        /* single container to ensure all parts share the same width and align */
        .container {
            width: 650px;            /* fixed width used previously */
            max-width: 100%;
            margin: 0 auto;
        }

        #d0 {
            background-color: #d35d3b;
            color: white;
            text-align: center;
            padding: 22px 18px;
            border-radius: 10px 10px 0 0;
            box-shadow: 0px 4px 10px rgba(0,0,0,0.12);
            margin: 0; /* container handles centering */
        }

        .input-controls {
            background-color: #fae8de;
            border: 1px solid #d35d3b;
            padding: 18px;
            border-radius: 0 0 10px 10px;
            text-align: left;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.08);
            margin-top: 0;
        }

        /* ensure inputs align and don't overflow container */
        label {
            font-weight: bold;
            display: inline-block;
            width: 140px;
        }

        input[type="text"],
        input[type="number"] {
            display: inline-block;
            width: calc(100% - 150px);
            max-width: 400px;
            padding: 6px 8px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }

        .input-controls br { line-height: 8px; } /* keep spacing similar */

        button {
            margin: 8px 6px 0 0;
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            background-color: #d35d3b;
            color: white;
            cursor: pointer;
            font-weight: bold;
        }
        button:hover { background-color: #b64c2f; }

        /* table fills the container and aligns with header/input box */
        table {
            width: 100%;
            margin-top: 18px;
            border-collapse: collapse;
            background-color: white;
            box-shadow: 0px 4px 10px rgba(0,0,0,0.08);
        }

        table, th, td {
            border: 2px solid #d35d3b;
            padding: 8px 10px;
        }

        thead {
            background-color: #d35d3b;
            color: white;
        }

        tfoot {
            background-color: #fae8de;
            font-weight: bold;
        }

        .ndata { text-align: right; }

        #gross-total, #deduct-total, #net-total {
            text-align: right;
            color: #d35d3b;
            font-weight: bold;
        }

        .links-container {
            text-align: center;
            margin-top: 18px;
        }

        .links-container a {
            padding: 10px 15px;
            background-color: #d35d3b;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
        }

        /* small screens: stack label and input */
        @media (max-width: 500px) {
            label { display: block; width: 100%; margin-bottom: 6px; }
            input[type="text"], input[type="number"] { width: 100%; max-width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="d0">
            <h1>The Payroll Program</h1>
        </div>

        <div id="d1" class="input-controls">
            <label for="name">Employee Name:</label>
            <input id="name" name="name" type="text" value="New Employee">
            <br>
            <label for="days_worked">Days Worked:</label>
            <input id="days_worked" name="days_worked" type="number" value="5">
            <br>
            <label for="daily_rate">Daily Rate:</label>
            <input id="daily_rate" name="daily_rate" type="number" value="100.00">
            <br>
            <label for="deduct">Deduction Amount:</label>
            <input id="deduct" name="deduct" type="number" value="50.00">
            <br><br>
            <button onclick="addEmployee()">+ Add Employee</button>
            <button onclick="deleteEmployee()">- Delete by No.</button>
        </div>

        <table>
            <thead>
                <tr>
                    <td>Emp. No.</td>
                    <td>Employee Name</td>
                    <td>Days Worked</td>
                    <td>Daily Rate</td>
                    <td>Gross Pay</td>
                    <td>Deductions</td>
                    <td>Net Pay</td>
                </tr>
            </thead>
            <tbody id="payroll-body">
                <tr>
                    <td class="ndata">1</td>
                    <td>John Van Neumann</td>
                    <td class="ndata">3</td>
                    <td class="ndata">500.00</td>
                    <td class="ndata">1500.00</td>
                    <td class="ndata">300</td>
                    <td class="ndata">1200</td>
                </tr>
                <tr>
                    <td class="ndata">2</td>
                    <td>Charles W. Babbage</td>
                    <td class="ndata">4</td>
                    <td class="ndata">500.00</td>
                    <td class="ndata">2000.00</td>
                    <td class="ndata">500</td>
                    <td class="ndata">1500</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td>Total</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td id="gross-total" class="ndata">3500.00</td>
                    <td id="deduct-total" class="ndata">800.00</td>
                    <td id="net-total" class="ndata">2700.00</td>
                </tr>
            </tfoot>
        </table>

        <div class="links-container">
            <a href="homepage2.html">Back to Home Page</a>
        </div>
    </div>

    <script>
        /* --- NO CHANGES TO YOUR LOGIC --- */
        function getNumberValue(id) {
            const value = parseFloat(document.getElementById(id).value);
            return isNaN(value) ? 0 : value;
        }

        function updateTotals() {
            const tableBody = document.getElementById('payroll-body');
            const rows = tableBody.getElementsByTagName('tr');

            let totalGross = 0;
            let totalDeductions = 0;
            let totalNet = 0;

            for (let i = 0; i < rows.length; i++) {
                const cells = rows[i].getElementsByTagName('td');
                const gross = parseFloat(cells[4].textContent) || 0;
                const deduct = parseFloat(cells[5].textContent) || 0;
                const net = parseFloat(cells[6].textContent) || 0;

                totalGross += gross;
                totalDeductions += deduct;
                totalNet += net;
            }

            document.getElementById('gross-total').textContent = totalGross.toFixed(2);
            document.getElementById('deduct-total').textContent = totalDeductions.toFixed(2);
            document.getElementById('net-total').textContent = totalNet.toFixed(2);
        }

        function addEmployee() {
            const name = document.getElementById('name').value;
            const daysWorked = getNumberValue('days_worked');
            const dailyRate = getNumberValue('daily_rate');
            const deduction = getNumberValue('deduct');

            const grossPay = daysWorked * dailyRate;
            const netPay = grossPay - deduction;
            const tableBody = document.getElementById('payroll-body');
            const nextEmpNo = tableBody.getElementsByTagName('tr').length + 1;
            const newRow = tableBody.insertRow();
            const values = [
                nextEmpNo,
                name,
                daysWorked.toFixed(0),
                dailyRate.toFixed(2),
                grossPay.toFixed(2),
                deduction.toFixed(2),
                netPay.toFixed(2)
            ];

            for (let i = 0; i < values.length; i++) {
                const newCell = newRow.insertCell(i);
                newCell.textContent = values[i];
                if (i !== 1) newCell.classList.add('ndata');
            }

            updateTotals();
        }

        function deleteEmployee() {
            const lineNumber = parseInt(prompt("Enter the Employee No. (Line Number) to delete:"), 10);
            const tableBody = document.getElementById('payroll-body');
            const rows = tableBody.getElementsByTagName('tr');
            const rowIndexToDelete = lineNumber - 1;

            if (rowIndexToDelete >= 0 && rowIndexToDelete < rows.length) {
                tableBody.deleteRow(rowIndexToDelete);
                for (let i = 0; i < rows.length; i++) {
                    rows[i].cells[0].textContent = i + 1;
                }
                updateTotals();
            }
        }

        updateTotals();
    </script>
</body>
</html>

